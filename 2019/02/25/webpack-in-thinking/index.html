<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Webpack 4.x 简易使用指南 | Limoer的记事小本</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="本篇来自于之前在团队内部分享webpack时的笔记，内容比较浅显，主要讲webpack基本配置，同时webpack运行原理，自定义loader和plugin也有涉及。  Webpack4.x使用指南零配置使用Webpack 从Webpack4开始支持零配置，在不进行任何配置的形式下，直接运行webpack，webpack从src/index.js作为入口，最终结果输出到/dist。  在默认情况">
<meta name="keywords" content="webpack">
<meta property="og:type" content="article">
<meta property="og:title" content="Webpack 4.x 简易使用指南">
<meta property="og:url" content="http://yoursite.com/2019/02/25/webpack-in-thinking/index.html">
<meta property="og:site_name" content="Limoer的记事小本">
<meta property="og:description" content="本篇来自于之前在团队内部分享webpack时的笔记，内容比较浅显，主要讲webpack基本配置，同时webpack运行原理，自定义loader和plugin也有涉及。  Webpack4.x使用指南零配置使用Webpack 从Webpack4开始支持零配置，在不进行任何配置的形式下，直接运行webpack，webpack从src/index.js作为入口，最终结果输出到/dist。  在默认情况">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/2019/02/25/webpack-in-thinking/flow.png">
<meta property="og:updated_time" content="2019-02-25T13:00:48.923Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Webpack 4.x 简易使用指南">
<meta name="twitter:description" content="本篇来自于之前在团队内部分享webpack时的笔记，内容比较浅显，主要讲webpack基本配置，同时webpack运行原理，自定义loader和plugin也有涉及。  Webpack4.x使用指南零配置使用Webpack 从Webpack4开始支持零配置，在不进行任何配置的形式下，直接运行webpack，webpack从src/index.js作为入口，最终结果输出到/dist。  在默认情况">
<meta name="twitter:image" content="http://yoursite.com/2019/02/25/webpack-in-thinking/flow.png">
    

    
        <link rel="alternate" href="/" title="Limoer的记事小本" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">Limoer的记事小本</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/62.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/62.png" />
            <h2 id="name">Limoer</h2>
            <h3 id="title">A student from SDU, focusing on browser side developing.</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Jinan, China</span>
            <a id="follow" target="_blank" href="http://weibo.com/u/2994244652?refer_flag=1001030101_">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                61
                <span>文章</span>
            </div>
            <div class="article-info-block">
                14
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/xiaomoer/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-webpack-in-thinking" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Webpack 4.x 简易使用指南
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2019/02/25/webpack-in-thinking/">
            <time datetime="2019-02-25T12:54:33.000Z" itemprop="datePublished">2019-02-25</time>
        </a>
    </div>


                        
                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/webpack/">webpack</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <blockquote>
<p>本篇来自于之前在团队内部分享<code>webpack</code>时的笔记，内容比较浅显，主要讲<code>webpack</code>基本配置，同时<code>webpack</code>运行原理，自定义<code>loader</code>和<code>plugin</code>也有涉及。</p>
</blockquote>
<h3 id="Webpack4-x使用指南"><a href="#Webpack4-x使用指南" class="headerlink" title="Webpack4.x使用指南"></a>Webpack4.x使用指南</h3><h4 id="零配置使用Webpack"><a href="#零配置使用Webpack" class="headerlink" title="零配置使用Webpack"></a>零配置使用Webpack</h4><blockquote>
<p>从Webpack4开始支持零配置，在不进行任何配置的形式下，直接运行<code>webpack</code>，<code>webpack</code>从<code>src/index.js</code>作为入口，最终结果输出到<code>/dist</code>。</p>
</blockquote>
<p>在默认情况下，<code>webpack</code>只会对只会从入口开始遍历所有依赖文件，由于没有配置<code>loaders</code>，因此无法处理<code>jsx</code>/<code>css</code>/图片等。</p>
<p>在默认情况下运行<code>webpack</code>，打包完成后控制台会提示在配置打包的模式。在cli中通过设置<code>--mode=production|development</code>可以指定默认，在开发模式|产品模式下，webpack会默认启用不同插件对打包进行优化。</p>
<h4 id="webpack基本配置"><a href="#webpack基本配置" class="headerlink" title="webpack基本配置"></a>webpack基本配置</h4><ol>
<li><p>入口(entry)<br>入口的配置形式有多种，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry: <span class="string">'./src/index.js'</span>, <span class="comment">// #1</span></span><br><span class="line">entry: &#123;</span><br><span class="line">  home: <span class="string">'./home.js'</span>,</span><br><span class="line">  about: <span class="string">'./about.js'</span>,</span><br><span class="line">&#125;, <span class="comment">// #2</span></span><br><span class="line">entry: [<span class="string">'./home.js'</span>, <span class="string">'./about.js'</span>] <span class="comment">// #3</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>第一种方式配置单一入口，所有文件将会被打包到同一个文件中，例如默认将会打包到<code>main.js</code>中；第二种方式是多页面(MPA)的配置方式，配置多个入口，最终将会生成多个<code>bundle</code>，配合<code>html-webpack-plugin</code>可以将对应的<code>bundle</code>注入到对应的<code>html</code>中；第三种配置的形式指定了多个入口，但是会将最终结果打包到一个文件中。</p>
</blockquote>
</li>
<li><p>输出(output)<br>输出指定了<em>webpack</em>将结果输出到哪里，如何进行输出，甚至是使用何种方式构建等，配置比较复杂。常用配置举例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  filename: <span class="string">'[name].[hash].js'</span>,</span><br><span class="line">  path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">&#125;, <span class="comment">// #1</span></span><br><span class="line">output: &#123;</span><br><span class="line">  filename: <span class="string">'[name].[hash].js'</span>,</span><br><span class="line">  path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">  library: <span class="string">'xxLibrary'</span>,</span><br><span class="line">  libraryTarget: <span class="string">'amd'</span>,</span><br><span class="line">&#125;, <span class="comment">// #2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>第一种配置方式是最基本的输出配置，它配置了输入文件的存放的目录以及文件命名，<em>filename</em>支持模板语法，<code>[name].[hash].js</code>表示使用模块名称(入口配置)以及模块标识符来命名文件。<br>第二种配置增加了’library’, ‘libraryTarget’两个属性，而<code>library</code>值的作用取决于<code>libraryTarget</code>的值。例2中配置<code>libraryTarget: &#39;amd&#39;</code>表示使用<code>amd</code>的方式打包，而<code>library</code>的值将作为模块名。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'xxLibrary'</span>, [], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> _entry_return_;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>而当<code>libraryTarget: &#39;commonjs2&#39;</code>时，表示该模块将使用<code>commonjs</code>的方式打包，用于<em>node</em>环境，而<code>library</code>将不起作用。此外<code>libraryTarget</code>的值还可以是<code>var(默认)</code>、<code>this</code>等。</p>
</blockquote>
</li>
<li><p>加载器(loader)<br>在webpack中<code>module</code>决定了如何处理项目中不同类型的模块，而加载器(loader)则是具体的处理逻辑。</p>
<blockquote>
<p>noParse：指定不需要进行构建的文件。例如，指定项目中不需要对<code>jquery</code>进行构建，可以进行如下配置:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">noParse: <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/jquery/</span>.test(content);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</blockquote>
<p>规则(rules)的配置同样比较复杂，常用的配置如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">    include: <span class="regexp">/src/</span>,</span><br><span class="line">    use: <span class="string">'babel-loader'</span></span><br><span class="line">  &#125;, <span class="comment">// #1</span></span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.(png|jpeg|gif)$/</span>,</span><br><span class="line">    oneOf: [</span><br><span class="line">      &#123;</span><br><span class="line">        resourceQuery: <span class="regexp">/inline/</span>,</span><br><span class="line">        use: <span class="string">'url-loader'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        resourceQuery: <span class="regexp">/external/</span>,</span><br><span class="line">        use: <span class="string">'file-loader'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, <span class="comment">// #2</span></span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">      fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">      use: [</span><br><span class="line">        &#123;</span><br><span class="line">          loader: <span class="string">'css-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            modules: <span class="literal">true</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">], <span class="comment">// #3</span></span><br></pre></td></tr></table></figure>
<p>上面列举了常用的配置<em>loader</em>的三种情况，第一种处理<code>js|jsx</code>文件时，使用<code>exclude</code>和<code>include</code>指定构建目录和不需要构建的目录，对于明确不需要构建的模块进行指定可以加快构建速度。第二种情况则是根据具体情况选择对应的loader进行处理。例如当我们使用<code>import emoj from &#39;./emoj.png?inline&#39;</code>时，则会使用<code>url-loader</code>对该<code>png</code>文件进行处理，对于<code>external</code>类型的图片，则使用<code>file-loader</code>处理。第三种情况则是使用多个<em>loader</em>并且可以传递<em>options</em>，例如处理css文件，这里使用了<code>style-loader</code>和<code>css-loader</code>两个加载器，并且配置了<code>css-loader</code>的options<code>modules: true</code>。这里需要关注<code>loader</code>执行顺序，<em>loader</em>执行的顺序是<strong>先配置后执行</strong>，例如这里先使用<code>css-loader</code>解析<code>css</code>，再使用<code>style-loader</code>配置将生成好的<em>css</em>文件通过<code>&lt;style&gt;</code>标签注入到DOM中。<code>options</code>配置了<code>modules: true</code>，则开启<code>css-modules</code>，写法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> style <span class="keyword">from</span> <span class="string">'index.css'</span>;</span><br><span class="line"><span class="keyword">let</span> IButton = <span class="function">(<span class="params">&#123;children&#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;span className=&#123;style.btn&#125;&gt;&#123;children&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>插件(plugin)<br>插件(plugin)用于以各种方式自定义webpack构建过程。webpack附带了非常多的插件，可以直接使用<code>webpack.pluginname</code>使用，也存在非常多的第三方插件。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">   <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]), <span class="comment">// #1</span></span><br><span class="line">   <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">     title: <span class="string">'index'</span>,</span><br><span class="line">     chunks: [<span class="string">'index'</span>],</span><br><span class="line">   &#125;), <span class="comment">// #2</span></span><br><span class="line">   <span class="keyword">new</span> BundleAnalyzerPlugin(&#123;</span><br><span class="line">     analyzerMode: <span class="string">'server'</span>,</span><br><span class="line">     analyzerHost: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">     analyzerPort: <span class="number">8889</span>,</span><br><span class="line">   &#125;), <span class="comment">// #3</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>上例使用了三个插件，第一个插件<code>CleanWebpackPlugin</code>作用是在构建输出前清空文件夹；第二个插件用于生成入口<em>html</em>，例如该<code>html</code>的<em>title</em>，指定其需要注入的<code>bundle</code>(MPA)。第三个插件则是用于分析构建结果的插件，它会在本地启动一个开发服务器，并且通过<code>canvas</code>来绘制构建可视化结果，方便进行构建分析和优化。</p>
</blockquote>
<ol start="5">
<li>开发服务器(devServer)<br><code>webpack-dev-server</code>方便我们进行快速开发应用，它会对代码进行监控，一旦发生更改，它会立即构建，并通过补丁的方式应用更改，使得应用能够快速应用更改。并且其提供了一个基于<code>Express</code>开发的简易服务器，所有资源文件都存在内存中，访问速度极快，并且通过配置可以支持热替换。介绍一下常见的<em>webpack-dev-server</em>配置。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">  contentBase: path.join(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">  compress: <span class="literal">true</span>,</span><br><span class="line">  inline: <span class="literal">true</span>,</span><br><span class="line">  historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">  allowedHosts: [<span class="string">'host1.com'</span>, <span class="string">'host2.com'</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><code>contentBase</code>主要用于指定静态文件的存放路径，例如所需要图片等，如不指定则无法找到对应文件;</p>
<p><code>compress</code>表示是否开启<code>Gzip</code>压缩;</p>
<p><code>inline</code>表示是否启用内联模式，内联模式：实时重载的脚本会被插入到<code>bundle</code>中，构建消息将会出现在控制台。此外还有<em>iframe</em>模式。</p>
<p><code>historyApiFallback</code>主要针对的是访问不存在的页面时的活动，<code>historyApiFallback: true</code>时访问不存在的页面会直接跳转到<code>index.html</code>，也可以传入一个对象更精确的进行控制跳转。</p>
<p><code>allowedHosts</code>用于指定允许该<em>devServer</em>的主机。</p>
<p><code>hot</code>是否开启<em>热替换</em>，如果为true的话，则会使用<code>webpack.HotModuleReplacementPlugin</code>插件。通过CLI的方式传递。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server --hot</span><br></pre></td></tr></table></figure></p>
<h4 id="Webpack-运行流程"><a href="#Webpack-运行流程" class="headerlink" title="Webpack 运行流程"></a>Webpack 运行流程</h4><blockquote>
<p>概括上来说：<br>初始化配置参数 -&gt; 绑定事件钩子回调 -&gt; 确定Entry开始遍历 -&gt; 使用loader编译文件 -&gt; 输出</p>
</blockquote>
<p>webpack就像一条生产线，经过一系列处理流程后才能将源文件转换成输出结果。</p>
<p>每个流程的处理职责是单一的，流程之间存在依赖关系，只有当前处理完成后才能交由下一个流程处理。</p>
<p>插件像是插入到生产线上的一个功能，在特定的时机对资源进行处理。</p>
<p>webpack 通过 <em>Tapable</em>来组织这一切。</p>
<p>Webpack在运行过程中会广播事件，插件只监听它关心的事件。</p>
<p>—《深入浅出webpack》</p>
<p><em>Tapable</em>的核心代码可以简化成。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SyncHook</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.hooks = [];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 订阅事件</span></span><br><span class="line">  tap(name, func) &#123;</span><br><span class="line">    <span class="keyword">this</span>.hook.push(func);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 发布</span></span><br><span class="line">  call() &#123;</span><br><span class="line">    <span class="keyword">this</span>.hooks.forEach(<span class="function"><span class="params">hook</span> =&gt;</span> hook(...arguments));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Webpack具体的流程如图所示。<br><img src="flow.png" alt="流程"></p>
<ol>
<li><p>初始化构建参数(依据webpack.config.js)，插件实例化，生成<code>Compiler</code>供插件使用，挂载自定义钩子。</p>
</li>
<li><p>依据入口递归遍历文件，并且使用对应的loader进行编译。</p>
</li>
<li><p>将编译好的文件解析成AST(抽象语法树)，分析依赖逐个拉取济源。</p>
</li>
<li><p>编译完成，输出。</p>
</li>
</ol>
<h4 id="编写自定义loader"><a href="#编写自定义loader" class="headerlink" title="编写自定义loader"></a>编写自定义loader</h4><blockquote>
<p>在webpack中，真正起编译作用的就是各种各样的loader。loader其实是一个function，其传入匹配到的文件内容(String)，然后对这些内容做处理即可。</p>
</blockquote>
<p>一个最简单的loader可以使下面这样：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"&#123;&#125;;"</span> + content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在<em>config</em>中进行配置如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">      loader: path.resolve(__dirname, <span class="string">'./loaders/index.js'</span>),</span><br><span class="line">      options: &#123;</span><br><span class="line">        param1: <span class="number">1</span>,</span><br><span class="line">        param2: <span class="number">2</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样在编译JS的时候就会在每个JS文件前加上<code>{};</code></p>
<hr>
<blockquote>
<p>获取自定义配置</p>
</blockquote>
<p>可以使用<code>loader-utils</code>模块来拿到自定义配置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">'loader-utils'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> options = loaderUtils.getOptions(<span class="keyword">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(options.param1); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param2); <span class="comment">// 2</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">"&#123;&#125;;"</span> + content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<blockquote>
<p>数据导出</p>
</blockquote>
<p>loader可以通过return来返回处理后的结果；当然，更好的方式是使用<code>this.callback</code>的形式。因为它更加灵活，除了content以外，还可以传递其它参数。</p>
<p><code>this.callback(error, content, sourceMap, ast)</code>可以传入四个参数：</p>
<ul>
<li>error loader向外抛出一个错误</li>
<li>content 经过loader编译后的内容</li>
<li>sourceMap</li>
<li>ast 本次编译生成的AST，之后执行的loader可以直接使用，而不需要再次生成</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">'loader-utils'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> options = loaderUtils.getOptions(<span class="keyword">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(options.param1); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param2); <span class="comment">// 2</span></span><br><span class="line">  <span class="keyword">this</span>.callback(<span class="literal">null</span>, <span class="string">"&#123;&#125;;"</span> + content);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>异步loader<br>对于异步loader，可以使用<code>this.async</code>来获取<br><code>callback</code>函数。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">'loader-utils'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> options = loaderUtils.getOptions(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">let</span> callback = <span class="keyword">this</span>.async();</span><br><span class="line">  <span class="keyword">this</span>.cacheable(<span class="literal">false</span>); <span class="comment">// 是否缓存结果</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param1); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param2); <span class="comment">// 2</span></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    callback(<span class="literal">null</span>, <span class="string">"&#123;&#125;;"</span> + content);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>pitch钩子<br>可以在loader文件中exports一个名为<em>pitch</em>的函数，它会先于所有的loaders执行。可以在这个过程中传参，而<strong>当前rule的所有loaders</strong>都可以拿到这个参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loaderUtils = <span class="built_in">require</span>(<span class="string">'loader-utils'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">content</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> options = loaderUtils.getOptions(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">let</span> callback = <span class="keyword">this</span>.async();</span><br><span class="line">  <span class="keyword">this</span>.cacheable(<span class="literal">false</span>); <span class="comment">// 是否缓存结果</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param1); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(options.param2); <span class="comment">// 2</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.data.hello); <span class="comment">// hello</span></span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    callback(<span class="literal">null</span>, <span class="string">"&#123;&#125;;"</span> + content);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports.pitch = <span class="function"><span class="keyword">function</span>(<span class="params">remaining, preceding, data</span>) </span>&#123;</span><br><span class="line">  data.hello = <span class="string">'hello'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="Plugin-初探"><a href="#Plugin-初探" class="headerlink" title="Plugin 初探"></a>Plugin 初探</h4><blockquote>
<p>Plugin起始是一个简单的<em>class</em>，有一个必须要实现的<em>apply</em>方法。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LPlugin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">    <span class="keyword">this</span>.options = options;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'options'</span>, options);</span><br><span class="line">  &#125;</span><br><span class="line">  apply(compiler) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'run this plugin'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> LPlugin = <span class="built_in">require</span>(<span class="string">'./plugins/LPlugin'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> LPlugin(&#123;</span><br><span class="line">      param1: <span class="number">1</span>,</span><br><span class="line">      param2: <span class="number">2</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>plugin在初始化参数就进行实例化(事件流开始时)，因此类似于<code>CleanWebpackPlugin</code>在构建之前进行文件操作删除掉某些目录也是很好实现的。</p>
<hr>
<blockquote>
<p>Tapable &amp; Hook Tapable是Webpack构建过程中的核心所在，其暴露了<code>tap tapAsync tapPromoise</code>等方法，可以使用这些方法，来注入一些逻辑，这些逻辑将会在构建过程的不同时机触发。</p>
</blockquote>
<p>例如:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">compiler.hooks.compile.tap(<span class="string">'LPlugin'</span>, params =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'触发了钩子函数'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>该钩子函数将会在<code>compile</code>阶段触发。</p>
<p>*** 自定义钩子函数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; SyncHook &#125; = <span class="built_in">require</span>(<span class="string">'tapable'</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LPlugin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">    <span class="keyword">this</span>.options = options;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'options'</span>, options);</span><br><span class="line">  &#125;</span><br><span class="line">  apply(compiler) &#123;</span><br><span class="line">    compiler.hooks.LPlugin = <span class="keyword">new</span> SyncHook([<span class="string">'data'</span>]);</span><br><span class="line">    compiler.hooks.enviroment.tap(<span class="string">'MyPlugin'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      compiler.hooks.LPlugin.call(<span class="string">'hello'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'run this plugin'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LLPlugin</span> </span>&#123;</span><br><span class="line">  apply(compiler) &#123;</span><br><span class="line">    compiler.hooks.LPlugin.tap(<span class="string">'LLPlugin'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'data'</span>, data); <span class="comment">// data hello</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2019/02/25/webpack-in-thinking/" data-id="cjz18p9mg0016j8j6kwzygsjk" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://yoursite.com/2019/02/25/webpack-in-thinking/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://yoursite.com/2019/02/25/webpack-in-thinking/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/06/01/老项目Webpack构建优化/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    老项目Webpack构建优化
                
            </div>
        </a>
    
    
        <a href="/2019/01/06/webpack-dllplugin/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">使用Webpack DllPlugin</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">7</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/About/">About</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/周记/">周记</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/心灵记事/">心灵记事</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/晨记/">晨记</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络/">计算机网络</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/About/" style="font-size: 10px;">About</a> <a href="/tags/CSS/" style="font-size: 11.43px;">CSS</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/React/" style="font-size: 18.57px;">React</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 14.29px;">Webpack</a> <a href="/tags/canvas/" style="font-size: 10px;">canvas</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/tags/周记/" style="font-size: 17.14px;">周记</a> <a href="/tags/心灵记事/" style="font-size: 15.71px;">心灵记事</a> <a href="/tags/晨记/" style="font-size: 12.86px;">晨记</a> <a href="/tags/杂谈/" style="font-size: 12.86px;">杂谈</a> <a href="/tags/计算机网络/" style="font-size: 11.43px;">计算机网络</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://smithyang.cn">smithyang</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2019 Limoer<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://yoursite.com/2019/02/25/webpack-in-thinking/';
        
        this.page.identifier = 'webpack-in-thinking';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'limoer' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>